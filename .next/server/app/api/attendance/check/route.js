"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/attendance/check/route";
exports.ids = ["app/api/attendance/check/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fattendance%2Fcheck%2Froute&page=%2Fapi%2Fattendance%2Fcheck%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fattendance%2Fcheck%2Froute.ts&appDir=%2FUsers%2Ftzl%2FDocuments%2FGitHub%2Fsynergyhr%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftzl%2FDocuments%2FGitHub%2Fsynergyhr&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fattendance%2Fcheck%2Froute&page=%2Fapi%2Fattendance%2Fcheck%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fattendance%2Fcheck%2Froute.ts&appDir=%2FUsers%2Ftzl%2FDocuments%2FGitHub%2Fsynergyhr%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftzl%2FDocuments%2FGitHub%2Fsynergyhr&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_tzl_Documents_GitHub_synergyhr_app_api_attendance_check_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/attendance/check/route.ts */ \"(rsc)/./app/api/attendance/check/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/attendance/check/route\",\n        pathname: \"/api/attendance/check\",\n        filename: \"route\",\n        bundlePath: \"app/api/attendance/check/route\"\n    },\n    resolvedPagePath: \"/Users/tzl/Documents/GitHub/synergyhr/app/api/attendance/check/route.ts\",\n    nextConfigOutput,\n    userland: _Users_tzl_Documents_GitHub_synergyhr_app_api_attendance_check_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/attendance/check/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhdHRlbmRhbmNlJTJGY2hlY2slMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmF0dGVuZGFuY2UlMkZjaGVjayUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmF0dGVuZGFuY2UlMkZjaGVjayUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnR6bCUyRkRvY3VtZW50cyUyRkdpdEh1YiUyRnN5bmVyZ3lociUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZ0emwlMkZEb2N1bWVudHMlMkZHaXRIdWIlMkZzeW5lcmd5aHImaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3VCO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3luZXJneWhyLz9hNTY4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy90emwvRG9jdW1lbnRzL0dpdEh1Yi9zeW5lcmd5aHIvYXBwL2FwaS9hdHRlbmRhbmNlL2NoZWNrL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hdHRlbmRhbmNlL2NoZWNrL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYXR0ZW5kYW5jZS9jaGVja1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYXR0ZW5kYW5jZS9jaGVjay9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy90emwvRG9jdW1lbnRzL0dpdEh1Yi9zeW5lcmd5aHIvYXBwL2FwaS9hdHRlbmRhbmNlL2NoZWNrL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9hdHRlbmRhbmNlL2NoZWNrL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fattendance%2Fcheck%2Froute&page=%2Fapi%2Fattendance%2Fcheck%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fattendance%2Fcheck%2Froute.ts&appDir=%2FUsers%2Ftzl%2FDocuments%2FGitHub%2Fsynergyhr%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftzl%2FDocuments%2FGitHub%2Fsynergyhr&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/attendance/check/route.ts":
/*!*******************************************!*\
  !*** ./app/api/attendance/check/route.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   OPTIONS: () => (/* binding */ OPTIONS)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_networkGuard__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/networkGuard */ \"(rsc)/./src/lib/networkGuard.ts\");\n\n\nasync function OPTIONS() {\n    return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(null, {\n        status: 200,\n        headers: {\n            \"Access-Control-Allow-Origin\": \"*\",\n            \"Access-Control-Allow-Methods\": \"GET, POST, OPTIONS\",\n            \"Access-Control-Allow-Headers\": \"Content-Type, x-office-pass\"\n        }\n    });\n}\nasync function GET(req) {\n    const result = await (0,_lib_networkGuard__WEBPACK_IMPORTED_MODULE_1__.requireOfficeNetwork)(req);\n    if (!result.ok) {\n        console.error(\"[office-gate] blocked:\", result.reason);\n        const response = next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: false\n        }, {\n            status: 403\n        });\n        return (0,_lib_networkGuard__WEBPACK_IMPORTED_MODULE_1__.addCorsHeaders)(response);\n    }\n    const pass = (0,_lib_networkGuard__WEBPACK_IMPORTED_MODULE_1__.signOfficePass)({\n        ip: result.ip,\n        asn: result.asn\n    }, 120);\n    const response = next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        ok: true,\n        pass\n    }, {\n        status: 200\n    });\n    return (0,_lib_networkGuard__WEBPACK_IMPORTED_MODULE_1__.addCorsHeaders)(response);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2F0dGVuZGFuY2UvY2hlY2svcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEyQztBQUMrQztBQUVuRixlQUFlSTtJQUNwQixPQUFPLElBQUlKLHFEQUFZQSxDQUFDLE1BQU07UUFDNUJLLFFBQVE7UUFDUkMsU0FBUztZQUNQLCtCQUErQjtZQUMvQixnQ0FBZ0M7WUFDaEMsZ0NBQWdDO1FBQ2xDO0lBQ0Y7QUFDRjtBQUVPLGVBQWVDLElBQUlDLEdBQVk7SUFDcEMsTUFBTUMsU0FBUyxNQUFNUix1RUFBb0JBLENBQUNPO0lBQzFDLElBQUksQ0FBQ0MsT0FBT0MsRUFBRSxFQUFFO1FBQ2RDLFFBQVFDLEtBQUssQ0FBQywwQkFBMEIsT0FBK0JDLE1BQU07UUFDN0UsTUFBTUMsV0FBV2QscURBQVlBLENBQUNlLElBQUksQ0FBQztZQUFFTCxJQUFJO1FBQU0sR0FBRztZQUFFTCxRQUFRO1FBQUk7UUFDaEUsT0FBT0YsaUVBQWNBLENBQUNXO0lBQ3hCO0lBRUEsTUFBTUUsT0FBT2QsaUVBQWNBLENBQUM7UUFBRWUsSUFBSVIsT0FBT1EsRUFBRTtRQUFFQyxLQUFLVCxPQUFPUyxHQUFHO0lBQUMsR0FBRztJQUNoRSxNQUFNSixXQUFXZCxxREFBWUEsQ0FBQ2UsSUFBSSxDQUFDO1FBQUVMLElBQUk7UUFBTU07SUFBSyxHQUFHO1FBQUVYLFFBQVE7SUFBSTtJQUNyRSxPQUFPRixpRUFBY0EsQ0FBQ1c7QUFDeEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zeW5lcmd5aHIvLi9hcHAvYXBpL2F0dGVuZGFuY2UvY2hlY2svcm91dGUudHM/YjE3YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcbmltcG9ydCB7IHJlcXVpcmVPZmZpY2VOZXR3b3JrLCBzaWduT2ZmaWNlUGFzcywgYWRkQ29yc0hlYWRlcnMgfSBmcm9tIFwiQC9saWIvbmV0d29ya0d1YXJkXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBPUFRJT05TKCkge1xuICByZXR1cm4gbmV3IE5leHRSZXNwb25zZShudWxsLCB7XG4gICAgc3RhdHVzOiAyMDAsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbic6ICcqJyxcbiAgICAgICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJzogJ0dFVCwgUE9TVCwgT1BUSU9OUycsXG4gICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycyc6ICdDb250ZW50LVR5cGUsIHgtb2ZmaWNlLXBhc3MnLFxuICAgIH0sXG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcTogUmVxdWVzdCkge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXF1aXJlT2ZmaWNlTmV0d29yayhyZXEpO1xuICBpZiAoIXJlc3VsdC5vaykge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJbb2ZmaWNlLWdhdGVdIGJsb2NrZWQ6XCIsIChyZXN1bHQgYXMgeyByZWFzb246IHN0cmluZyB9KS5yZWFzb24pO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLmpzb24oeyBvazogZmFsc2UgfSwgeyBzdGF0dXM6IDQwMyB9KTtcbiAgICByZXR1cm4gYWRkQ29yc0hlYWRlcnMocmVzcG9uc2UpO1xuICB9XG5cbiAgY29uc3QgcGFzcyA9IHNpZ25PZmZpY2VQYXNzKHsgaXA6IHJlc3VsdC5pcCwgYXNuOiByZXN1bHQuYXNuIH0sIDEyMCk7XG4gIGNvbnN0IHJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLmpzb24oeyBvazogdHJ1ZSwgcGFzcyB9LCB7IHN0YXR1czogMjAwIH0pO1xuICByZXR1cm4gYWRkQ29yc0hlYWRlcnMocmVzcG9uc2UpO1xufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInJlcXVpcmVPZmZpY2VOZXR3b3JrIiwic2lnbk9mZmljZVBhc3MiLCJhZGRDb3JzSGVhZGVycyIsIk9QVElPTlMiLCJzdGF0dXMiLCJoZWFkZXJzIiwiR0VUIiwicmVxIiwicmVzdWx0Iiwib2siLCJjb25zb2xlIiwiZXJyb3IiLCJyZWFzb24iLCJyZXNwb25zZSIsImpzb24iLCJwYXNzIiwiaXAiLCJhc24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/attendance/check/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/networkGuard.ts":
/*!*********************************!*\
  !*** ./src/lib/networkGuard.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addCorsHeaders: () => (/* binding */ addCorsHeaders),\n/* harmony export */   getClientIpFromRequest: () => (/* binding */ getClientIpFromRequest),\n/* harmony export */   requireOfficeNetwork: () => (/* binding */ requireOfficeNetwork),\n/* harmony export */   signOfficePass: () => (/* binding */ signOfficePass),\n/* harmony export */   verifyOfficePass: () => (/* binding */ verifyOfficePass)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n\n// Add CORS headers to response\nfunction addCorsHeaders(response) {\n    const headers = new Headers(response.headers);\n    headers.set(\"Access-Control-Allow-Origin\", \"*\");\n    headers.set(\"Access-Control-Allow-Methods\", \"GET, POST, OPTIONS\");\n    headers.set(\"Access-Control-Allow-Headers\", \"Content-Type, x-office-pass\");\n    return new Response(response.body, {\n        status: response.status,\n        statusText: response.statusText,\n        headers\n    });\n}\nconst SETTINGS_CACHE_TTL_MS = 30000;\nlet settingsCache = null;\nfunction normalizeStringList(value) {\n    if (Array.isArray(value)) {\n        return value.map((item)=>String(item).trim()).filter(Boolean);\n    }\n    if (typeof value === \"string\") {\n        const trimmed = value.trim();\n        if (!trimmed) return [];\n        if (trimmed.startsWith(\"[\")) {\n            try {\n                const parsed = JSON.parse(trimmed);\n                if (Array.isArray(parsed)) {\n                    return parsed.map((item)=>String(item).trim()).filter(Boolean);\n                }\n            } catch  {\n                return [\n                    trimmed\n                ];\n            }\n        }\n        return [\n            trimmed\n        ];\n    }\n    return [];\n}\nfunction ipv4ToInt(ip) {\n    const parts = ip.split(\".\").map((part)=>Number(part));\n    if (parts.length !== 4 || parts.some((part)=>!Number.isInteger(part) || part < 0 || part > 255)) {\n        return null;\n    }\n    return (parts[0] << 24 >>> 0) + (parts[1] << 16) + (parts[2] << 8) + parts[3];\n}\nfunction cidrContainsIPv4(cidr, ip) {\n    const [netStr, bitsStr] = cidr.split(\"/\");\n    const bits = Number(bitsStr);\n    if (!Number.isInteger(bits) || bits < 0 || bits > 32) return false;\n    const net = ipv4ToInt(netStr);\n    const addr = ipv4ToInt(ip);\n    if (net === null || addr === null) return false;\n    const mask = bits === 0 ? 0 : ~((1 << 32 - bits) - 1) >>> 0 >>> 0;\n    return (net & mask) === (addr & mask);\n}\nfunction ipAllowedByCidrs(cidrs, ip) {\n    if (cidrs.length === 0) return true;\n    return cidrs.some((cidr)=>cidrContainsIPv4(cidr.trim(), ip));\n}\nasync function fetchOfficeSettings() {\n    if (settingsCache && settingsCache.expiresAt > Date.now()) {\n        return settingsCache.value;\n    }\n    const url = process.env.SUPABASE_URL;\n    const key = process.env.SUPABASE_ANON_KEY;\n    if (!url) {\n        throw new Error(\"Server missing SUPABASE_URL\");\n    }\n    if (!key) {\n        throw new Error(\"Server missing SUPABASE_ANON_KEY\");\n    }\n    const response = await fetch(`${url}/rest/v1/office_settings?select=setting_key,setting_value`, {\n        headers: {\n            apikey: key,\n            Authorization: `Bearer ${key}`\n        },\n        cache: \"no-store\"\n    });\n    if (!response.ok) {\n        throw new Error(\"Supabase settings fetch failed\");\n    }\n    const data = await response.json();\n    const asnSetting = data.find((item)=>item.setting_key === \"allowed_asns\");\n    const cidrSetting = data.find((item)=>item.setting_key === \"allowed_cidrs\");\n    const allowedASNs = new Set(normalizeStringList(asnSetting?.setting_value).map((item)=>item.replace(/[^0-9]/g, \"\")).map((digits)=>Number(digits)).filter((value)=>Number.isFinite(value)));\n    const allowedCIDRs = normalizeStringList(cidrSetting?.setting_value);\n    const value = {\n        allowedASNs,\n        allowedCIDRs\n    };\n    settingsCache = {\n        value,\n        expiresAt: Date.now() + SETTINGS_CACHE_TTL_MS\n    };\n    return value;\n}\nfunction getClientIpFromRequest(req) {\n    const cf = req.headers.get(\"cf-connecting-ip\");\n    if (cf) return cf.trim();\n    const xff = req.headers.get(\"x-forwarded-for\");\n    if (xff) return xff.split(\",\")[0].trim();\n    // In development, allow localhost\n    return null;\n}\nasync function requireOfficeNetwork(req) {\n    const token = process.env.IPINFO_TOKEN;\n    if (!token) return {\n        ok: false,\n        reason: \"Server missing IPINFO_TOKEN\"\n    };\n    const ip = getClientIpFromRequest(req);\n    // In development mode, allow localhost connections\n    if (!ip || ip === \"127.0.0.1\" || ip === \"::1\" || ip === \"::ffff:127.0.0.1\") {\n        if (true) {\n            console.log(\"[office-gate] allowing localhost in development mode\");\n            return {\n                ok: true,\n                ip: ip || \"127.0.0.1\",\n                asn: 0\n            };\n        }\n        return {\n            ok: false,\n            reason: \"Cannot determine client IP\"\n        };\n    }\n    let officeSettings;\n    try {\n        officeSettings = await fetchOfficeSettings();\n    } catch (error) {\n        const message = error instanceof Error ? error.message : \"Supabase settings fetch failed\";\n        return {\n            ok: false,\n            reason: message\n        };\n    }\n    const { allowedASNs, allowedCIDRs } = officeSettings;\n    const hasCidrRestriction = allowedCIDRs.length > 0;\n    const hasAsnRestriction = allowedASNs.size > 0;\n    // If no restrictions are configured, allow all\n    if (!hasCidrRestriction && !hasAsnRestriction) {\n        return {\n            ok: true,\n            ip,\n            asn: 0\n        };\n    }\n    // Check CIDR restriction (if configured)\n    const cidrAllowed = ipAllowedByCidrs(allowedCIDRs, ip);\n    // If only CIDR restriction is configured, check it and return\n    if (hasCidrRestriction && !hasAsnRestriction) {\n        if (!cidrAllowed) {\n            return {\n                ok: false,\n                reason: \"IP not in office CIDR\"\n            };\n        }\n        return {\n            ok: true,\n            ip,\n            asn: 0\n        };\n    }\n    // If only ASN restriction is configured, skip CIDR check\n    if (!hasCidrRestriction && hasAsnRestriction) {\n    // Continue to ASN check below\n    }\n    // If both restrictions are configured, require CIDR match first\n    if (hasCidrRestriction && hasAsnRestriction && !cidrAllowed) {\n        return {\n            ok: false,\n            reason: \"IP not in office CIDR\"\n        };\n    }\n    const url = `https://api.ipinfo.io/lite/${encodeURIComponent(ip)}?token=${encodeURIComponent(token)}`;\n    const response = await fetch(url, {\n        cache: \"no-store\"\n    });\n    if (!response.ok) return {\n        ok: false,\n        reason: \"IPinfo lookup failed\"\n    };\n    const data = await response.json();\n    const asnStr = (data.asn ?? \"\").replace(/^AS/i, \"\");\n    const asn = Number(asnStr);\n    if (!Number.isFinite(asn)) return {\n        ok: false,\n        reason: \"ASN missing\"\n    };\n    if (allowedASNs.size > 0 && !allowedASNs.has(asn)) {\n        return {\n            ok: false,\n            reason: \"ASN not allowed\"\n        };\n    }\n    return {\n        ok: true,\n        ip,\n        asn\n    };\n}\nfunction signOfficePass(payload, ttlSeconds) {\n    const secret = process.env.OFFICE_PASS_SECRET ?? \"\";\n    const exp = Math.floor(Date.now() / 1000) + ttlSeconds;\n    const body = JSON.stringify({\n        ...payload,\n        exp\n    });\n    const sig = crypto__WEBPACK_IMPORTED_MODULE_0___default().createHmac(\"sha256\", secret).update(body).digest(\"base64url\");\n    return Buffer.from(body).toString(\"base64url\") + \".\" + sig;\n}\nfunction verifyOfficePass(token) {\n    const secret = process.env.OFFICE_PASS_SECRET ?? \"\";\n    const [b64, sig] = token.split(\".\");\n    if (!b64 || !sig) return false;\n    const body = Buffer.from(b64, \"base64url\").toString(\"utf8\");\n    const expected = crypto__WEBPACK_IMPORTED_MODULE_0___default().createHmac(\"sha256\", secret).update(body).digest(\"base64url\");\n    if (expected !== sig) return false;\n    const parsed = JSON.parse(body);\n    if (!parsed.exp || Math.floor(Date.now() / 1000) > parsed.exp) return false;\n    return true;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SyxPQUFPO0lBQzdCLE1BQU1sRixTQUFTQyxLQUFLQyxLQUFLLENBQUNuQjtJQUMxQixJQUFJLENBQUNpQixPQUFPOEUsR0FBRyxJQUFJQyxLQUFLQyxLQUFLLENBQUN4RCxLQUFLQyxHQUFHLEtBQUssUUFBUXpCLE9BQU84RSxHQUFHLEVBQUUsT0FBTztJQUN0RSxPQUFPO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zeW5lcmd5aHIvLi9zcmMvbGliL25ldHdvcmtHdWFyZC50cz8xNzZhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcnlwdG8gZnJvbSBcImNyeXB0b1wiO1xuXG4vLyBBZGQgQ09SUyBoZWFkZXJzIHRvIHJlc3BvbnNlXG5leHBvcnQgZnVuY3Rpb24gYWRkQ29yc0hlYWRlcnMocmVzcG9uc2U6IFJlc3BvbnNlKTogUmVzcG9uc2Uge1xuICBjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnMocmVzcG9uc2UuaGVhZGVycyk7XG4gIGhlYWRlcnMuc2V0KCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nLCAnKicpO1xuICBoZWFkZXJzLnNldCgnQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcycsICdHRVQsIFBPU1QsIE9QVElPTlMnKTtcbiAgaGVhZGVycy5zZXQoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnLCAnQ29udGVudC1UeXBlLCB4LW9mZmljZS1wYXNzJyk7XG4gIFxuICByZXR1cm4gbmV3IFJlc3BvbnNlKHJlc3BvbnNlLmJvZHksIHtcbiAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgIGhlYWRlcnNcbiAgfSk7XG59XG5cbnR5cGUgT2ZmaWNlU2V0dGluZ3MgPSB7XG4gIGFsbG93ZWRBU05zOiBTZXQ8bnVtYmVyPjtcbiAgYWxsb3dlZENJRFJzOiBzdHJpbmdbXTtcbn07XG5cbmNvbnN0IFNFVFRJTkdTX0NBQ0hFX1RUTF9NUyA9IDMwXzAwMDtcbmxldCBzZXR0aW5nc0NhY2hlOiB7IHZhbHVlOiBPZmZpY2VTZXR0aW5nczsgZXhwaXJlc0F0OiBudW1iZXIgfSB8IG51bGwgPSBudWxsO1xuXG5mdW5jdGlvbiBub3JtYWxpemVTdHJpbmdMaXN0KHZhbHVlOiB1bmtub3duKTogc3RyaW5nW10ge1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWUubWFwKChpdGVtKSA9PiBTdHJpbmcoaXRlbSkudHJpbSgpKS5maWx0ZXIoQm9vbGVhbik7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIGNvbnN0IHRyaW1tZWQgPSB2YWx1ZS50cmltKCk7XG4gICAgaWYgKCF0cmltbWVkKSByZXR1cm4gW107XG4gICAgaWYgKHRyaW1tZWQuc3RhcnRzV2l0aChcIltcIikpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UodHJpbW1lZCk7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcnNlZCkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VkLm1hcCgoaXRlbSkgPT4gU3RyaW5nKGl0ZW0pLnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIFt0cmltbWVkXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFt0cmltbWVkXTtcbiAgfVxuICByZXR1cm4gW107XG59XG5cbmZ1bmN0aW9uIGlwdjRUb0ludChpcDogc3RyaW5nKTogbnVtYmVyIHwgbnVsbCB7XG4gIGNvbnN0IHBhcnRzID0gaXAuc3BsaXQoXCIuXCIpLm1hcCgocGFydCkgPT4gTnVtYmVyKHBhcnQpKTtcbiAgaWYgKHBhcnRzLmxlbmd0aCAhPT0gNCB8fCBwYXJ0cy5zb21lKChwYXJ0KSA9PiAhTnVtYmVyLmlzSW50ZWdlcihwYXJ0KSB8fCBwYXJ0IDwgMCB8fCBwYXJ0ID4gMjU1KSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiAoKHBhcnRzWzBdIDw8IDI0KSA+Pj4gMCkgKyAocGFydHNbMV0gPDwgMTYpICsgKHBhcnRzWzJdIDw8IDgpICsgcGFydHNbM107XG59XG5cbmZ1bmN0aW9uIGNpZHJDb250YWluc0lQdjQoY2lkcjogc3RyaW5nLCBpcDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIGNvbnN0IFtuZXRTdHIsIGJpdHNTdHJdID0gY2lkci5zcGxpdChcIi9cIik7XG4gIGNvbnN0IGJpdHMgPSBOdW1iZXIoYml0c1N0cik7XG4gIGlmICghTnVtYmVyLmlzSW50ZWdlcihiaXRzKSB8fCBiaXRzIDwgMCB8fCBiaXRzID4gMzIpIHJldHVybiBmYWxzZTtcblxuICBjb25zdCBuZXQgPSBpcHY0VG9JbnQobmV0U3RyKTtcbiAgY29uc3QgYWRkciA9IGlwdjRUb0ludChpcCk7XG4gIGlmIChuZXQgPT09IG51bGwgfHwgYWRkciA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXG4gIGNvbnN0IG1hc2sgPSBiaXRzID09PSAwID8gMCA6ICh+KCgxIDw8ICgzMiAtIGJpdHMpKSAtIDEpID4+PiAwKSA+Pj4gMDtcbiAgcmV0dXJuIChuZXQgJiBtYXNrKSA9PT0gKGFkZHIgJiBtYXNrKTtcbn1cblxuZnVuY3Rpb24gaXBBbGxvd2VkQnlDaWRycyhjaWRyczogc3RyaW5nW10sIGlwOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgaWYgKGNpZHJzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRydWU7XG4gIHJldHVybiBjaWRycy5zb21lKChjaWRyKSA9PiBjaWRyQ29udGFpbnNJUHY0KGNpZHIudHJpbSgpLCBpcCkpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBmZXRjaE9mZmljZVNldHRpbmdzKCk6IFByb21pc2U8T2ZmaWNlU2V0dGluZ3M+IHtcbiAgaWYgKHNldHRpbmdzQ2FjaGUgJiYgc2V0dGluZ3NDYWNoZS5leHBpcmVzQXQgPiBEYXRlLm5vdygpKSB7XG4gICAgcmV0dXJuIHNldHRpbmdzQ2FjaGUudmFsdWU7XG4gIH1cblxuICBjb25zdCB1cmwgPSBwcm9jZXNzLmVudi5TVVBBQkFTRV9VUkw7XG4gIGNvbnN0IGtleSA9IHByb2Nlc3MuZW52LlNVUEFCQVNFX0FOT05fS0VZO1xuICBpZiAoIXVybCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlNlcnZlciBtaXNzaW5nIFNVUEFCQVNFX1VSTFwiKTtcbiAgfVxuICBpZiAoIWtleSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlNlcnZlciBtaXNzaW5nIFNVUEFCQVNFX0FOT05fS0VZXCIpO1xuICB9XG5cbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICBgJHt1cmx9L3Jlc3QvdjEvb2ZmaWNlX3NldHRpbmdzP3NlbGVjdD1zZXR0aW5nX2tleSxzZXR0aW5nX3ZhbHVlYCxcbiAgICB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGFwaWtleToga2V5LFxuICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7a2V5fWAsXG4gICAgICB9LFxuICAgICAgY2FjaGU6IFwibm8tc3RvcmVcIixcbiAgICB9XG4gICk7XG5cbiAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlN1cGFiYXNlIHNldHRpbmdzIGZldGNoIGZhaWxlZFwiKTtcbiAgfVxuXG4gIGNvbnN0IGRhdGEgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKSBhcyBBcnJheTx7XG4gICAgc2V0dGluZ19rZXk6IHN0cmluZztcbiAgICBzZXR0aW5nX3ZhbHVlOiB1bmtub3duO1xuICB9PjtcblxuICBjb25zdCBhc25TZXR0aW5nID0gZGF0YS5maW5kKChpdGVtKSA9PiBpdGVtLnNldHRpbmdfa2V5ID09PSBcImFsbG93ZWRfYXNuc1wiKTtcbiAgY29uc3QgY2lkclNldHRpbmcgPSBkYXRhLmZpbmQoKGl0ZW0pID0+IGl0ZW0uc2V0dGluZ19rZXkgPT09IFwiYWxsb3dlZF9jaWRyc1wiKTtcblxuICBjb25zdCBhbGxvd2VkQVNOcyA9IG5ldyBTZXQoXG4gICAgbm9ybWFsaXplU3RyaW5nTGlzdChhc25TZXR0aW5nPy5zZXR0aW5nX3ZhbHVlKVxuICAgICAgLm1hcCgoaXRlbSkgPT4gaXRlbS5yZXBsYWNlKC9bXjAtOV0vZywgXCJcIikpXG4gICAgICAubWFwKChkaWdpdHMpID0+IE51bWJlcihkaWdpdHMpKVxuICAgICAgLmZpbHRlcigodmFsdWUpID0+IE51bWJlci5pc0Zpbml0ZSh2YWx1ZSkpXG4gICk7XG5cbiAgY29uc3QgYWxsb3dlZENJRFJzID0gbm9ybWFsaXplU3RyaW5nTGlzdChjaWRyU2V0dGluZz8uc2V0dGluZ192YWx1ZSk7XG5cbiAgY29uc3QgdmFsdWUgPSB7IGFsbG93ZWRBU05zLCBhbGxvd2VkQ0lEUnMgfTtcbiAgc2V0dGluZ3NDYWNoZSA9IHsgdmFsdWUsIGV4cGlyZXNBdDogRGF0ZS5ub3coKSArIFNFVFRJTkdTX0NBQ0hFX1RUTF9NUyB9O1xuICByZXR1cm4gdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDbGllbnRJcEZyb21SZXF1ZXN0KHJlcTogUmVxdWVzdCk6IHN0cmluZyB8IG51bGwge1xuICBjb25zdCBjZiA9IHJlcS5oZWFkZXJzLmdldChcImNmLWNvbm5lY3RpbmctaXBcIik7XG4gIGlmIChjZikgcmV0dXJuIGNmLnRyaW0oKTtcblxuICBjb25zdCB4ZmYgPSByZXEuaGVhZGVycy5nZXQoXCJ4LWZvcndhcmRlZC1mb3JcIik7XG4gIGlmICh4ZmYpIHJldHVybiB4ZmYuc3BsaXQoXCIsXCIpWzBdLnRyaW0oKTtcblxuICAvLyBJbiBkZXZlbG9wbWVudCwgYWxsb3cgbG9jYWxob3N0XG4gIHJldHVybiBudWxsO1xufVxuXG50eXBlIElwaW5mb0xpdGVSZXNwID0ge1xuICBpcD86IHN0cmluZztcbiAgYXNuPzogc3RyaW5nO1xuICBhc19uYW1lPzogc3RyaW5nO1xuICBjb3VudHJ5Pzogc3RyaW5nO1xuICBjb3VudHJ5X2NvZGU/OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVxdWlyZU9mZmljZU5ldHdvcmsoXG4gIHJlcTogUmVxdWVzdFxuKTogUHJvbWlzZTx7IG9rOiB0cnVlOyBpcDogc3RyaW5nOyBhc246IG51bWJlciB9IHwgeyBvazogZmFsc2U7IHJlYXNvbjogc3RyaW5nIH0+IHtcbiAgY29uc3QgdG9rZW4gPSBwcm9jZXNzLmVudi5JUElORk9fVE9LRU47XG4gIGlmICghdG9rZW4pIHJldHVybiB7IG9rOiBmYWxzZSwgcmVhc29uOiBcIlNlcnZlciBtaXNzaW5nIElQSU5GT19UT0tFTlwiIH07XG5cbiAgY29uc3QgaXAgPSBnZXRDbGllbnRJcEZyb21SZXF1ZXN0KHJlcSk7XG4gIFxuICAvLyBJbiBkZXZlbG9wbWVudCBtb2RlLCBhbGxvdyBsb2NhbGhvc3QgY29ubmVjdGlvbnNcbiAgaWYgKCFpcCB8fCBpcCA9PT0gXCIxMjcuMC4wLjFcIiB8fCBpcCA9PT0gXCI6OjFcIiB8fCBpcCA9PT0gXCI6OmZmZmY6MTI3LjAuMC4xXCIpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIikge1xuICAgICAgY29uc29sZS5sb2coXCJbb2ZmaWNlLWdhdGVdIGFsbG93aW5nIGxvY2FsaG9zdCBpbiBkZXZlbG9wbWVudCBtb2RlXCIpO1xuICAgICAgcmV0dXJuIHsgb2s6IHRydWUsIGlwOiBpcCB8fCBcIjEyNy4wLjAuMVwiLCBhc246IDAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgb2s6IGZhbHNlLCByZWFzb246IFwiQ2Fubm90IGRldGVybWluZSBjbGllbnQgSVBcIiB9O1xuICB9XG5cbiAgbGV0IG9mZmljZVNldHRpbmdzOiBPZmZpY2VTZXR0aW5ncztcbiAgdHJ5IHtcbiAgICBvZmZpY2VTZXR0aW5ncyA9IGF3YWl0IGZldGNoT2ZmaWNlU2V0dGluZ3MoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlN1cGFiYXNlIHNldHRpbmdzIGZldGNoIGZhaWxlZFwiO1xuICAgIHJldHVybiB7IG9rOiBmYWxzZSwgcmVhc29uOiBtZXNzYWdlIH07XG4gIH1cblxuICBjb25zdCB7IGFsbG93ZWRBU05zLCBhbGxvd2VkQ0lEUnMgfSA9IG9mZmljZVNldHRpbmdzO1xuXG4gIGNvbnN0IGhhc0NpZHJSZXN0cmljdGlvbiA9IGFsbG93ZWRDSURScy5sZW5ndGggPiAwO1xuICBjb25zdCBoYXNBc25SZXN0cmljdGlvbiA9IGFsbG93ZWRBU05zLnNpemUgPiAwO1xuXG4gIC8vIElmIG5vIHJlc3RyaWN0aW9ucyBhcmUgY29uZmlndXJlZCwgYWxsb3cgYWxsXG4gIGlmICghaGFzQ2lkclJlc3RyaWN0aW9uICYmICFoYXNBc25SZXN0cmljdGlvbikge1xuICAgIHJldHVybiB7IG9rOiB0cnVlLCBpcCwgYXNuOiAwIH07XG4gIH1cblxuICAvLyBDaGVjayBDSURSIHJlc3RyaWN0aW9uIChpZiBjb25maWd1cmVkKVxuICBjb25zdCBjaWRyQWxsb3dlZCA9IGlwQWxsb3dlZEJ5Q2lkcnMoYWxsb3dlZENJRFJzLCBpcCk7XG4gIFxuICAvLyBJZiBvbmx5IENJRFIgcmVzdHJpY3Rpb24gaXMgY29uZmlndXJlZCwgY2hlY2sgaXQgYW5kIHJldHVyblxuICBpZiAoaGFzQ2lkclJlc3RyaWN0aW9uICYmICFoYXNBc25SZXN0cmljdGlvbikge1xuICAgIGlmICghY2lkckFsbG93ZWQpIHtcbiAgICAgIHJldHVybiB7IG9rOiBmYWxzZSwgcmVhc29uOiBcIklQIG5vdCBpbiBvZmZpY2UgQ0lEUlwiIH07XG4gICAgfVxuICAgIHJldHVybiB7IG9rOiB0cnVlLCBpcCwgYXNuOiAwIH07XG4gIH1cblxuICAvLyBJZiBvbmx5IEFTTiByZXN0cmljdGlvbiBpcyBjb25maWd1cmVkLCBza2lwIENJRFIgY2hlY2tcbiAgaWYgKCFoYXNDaWRyUmVzdHJpY3Rpb24gJiYgaGFzQXNuUmVzdHJpY3Rpb24pIHtcbiAgICAvLyBDb250aW51ZSB0byBBU04gY2hlY2sgYmVsb3dcbiAgfVxuXG4gIC8vIElmIGJvdGggcmVzdHJpY3Rpb25zIGFyZSBjb25maWd1cmVkLCByZXF1aXJlIENJRFIgbWF0Y2ggZmlyc3RcbiAgaWYgKGhhc0NpZHJSZXN0cmljdGlvbiAmJiBoYXNBc25SZXN0cmljdGlvbiAmJiAhY2lkckFsbG93ZWQpIHtcbiAgICByZXR1cm4geyBvazogZmFsc2UsIHJlYXNvbjogXCJJUCBub3QgaW4gb2ZmaWNlIENJRFJcIiB9O1xuICB9XG5cbiAgY29uc3QgdXJsID0gYGh0dHBzOi8vYXBpLmlwaW5mby5pby9saXRlLyR7ZW5jb2RlVVJJQ29tcG9uZW50KGlwKX0/dG9rZW49JHtlbmNvZGVVUklDb21wb25lbnQodG9rZW4pfWA7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7IGNhY2hlOiBcIm5vLXN0b3JlXCIgfSk7XG4gIGlmICghcmVzcG9uc2Uub2spIHJldHVybiB7IG9rOiBmYWxzZSwgcmVhc29uOiBcIklQaW5mbyBsb29rdXAgZmFpbGVkXCIgfTtcblxuICBjb25zdCBkYXRhID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSkgYXMgSXBpbmZvTGl0ZVJlc3A7XG4gIGNvbnN0IGFzblN0ciA9IChkYXRhLmFzbiA/PyBcIlwiKS5yZXBsYWNlKC9eQVMvaSwgXCJcIik7XG4gIGNvbnN0IGFzbiA9IE51bWJlcihhc25TdHIpO1xuICBpZiAoIU51bWJlci5pc0Zpbml0ZShhc24pKSByZXR1cm4geyBvazogZmFsc2UsIHJlYXNvbjogXCJBU04gbWlzc2luZ1wiIH07XG5cbiAgaWYgKGFsbG93ZWRBU05zLnNpemUgPiAwICYmICFhbGxvd2VkQVNOcy5oYXMoYXNuKSkge1xuICAgIHJldHVybiB7IG9rOiBmYWxzZSwgcmVhc29uOiBcIkFTTiBub3QgYWxsb3dlZFwiIH07XG4gIH1cblxuICByZXR1cm4geyBvazogdHJ1ZSwgaXAsIGFzbiB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2lnbk9mZmljZVBhc3MocGF5bG9hZDogb2JqZWN0LCB0dGxTZWNvbmRzOiBudW1iZXIpOiBzdHJpbmcge1xuICBjb25zdCBzZWNyZXQgPSBwcm9jZXNzLmVudi5PRkZJQ0VfUEFTU19TRUNSRVQgPz8gXCJcIjtcbiAgY29uc3QgZXhwID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCkgKyB0dGxTZWNvbmRzO1xuICBjb25zdCBib2R5ID0gSlNPTi5zdHJpbmdpZnkoeyAuLi5wYXlsb2FkLCBleHAgfSk7XG4gIGNvbnN0IHNpZyA9IGNyeXB0by5jcmVhdGVIbWFjKFwic2hhMjU2XCIsIHNlY3JldCkudXBkYXRlKGJvZHkpLmRpZ2VzdChcImJhc2U2NHVybFwiKTtcbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKGJvZHkpLnRvU3RyaW5nKFwiYmFzZTY0dXJsXCIpICsgXCIuXCIgKyBzaWc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2ZXJpZnlPZmZpY2VQYXNzKHRva2VuOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgY29uc3Qgc2VjcmV0ID0gcHJvY2Vzcy5lbnYuT0ZGSUNFX1BBU1NfU0VDUkVUID8/IFwiXCI7XG4gIGNvbnN0IFtiNjQsIHNpZ10gPSB0b2tlbi5zcGxpdChcIi5cIik7XG4gIGlmICghYjY0IHx8ICFzaWcpIHJldHVybiBmYWxzZTtcbiAgY29uc3QgYm9keSA9IEJ1ZmZlci5mcm9tKGI2NCwgXCJiYXNlNjR1cmxcIikudG9TdHJpbmcoXCJ1dGY4XCIpO1xuICBjb25zdCBleHBlY3RlZCA9IGNyeXB0by5jcmVhdGVIbWFjKFwic2hhMjU2XCIsIHNlY3JldCkudXBkYXRlKGJvZHkpLmRpZ2VzdChcImJhc2U2NHVybFwiKTtcbiAgaWYgKGV4cGVjdGVkICE9PSBzaWcpIHJldHVybiBmYWxzZTtcbiAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShib2R5KSBhcyB7IGV4cD86IG51bWJlciB9O1xuICBpZiAoIXBhcnNlZC5leHAgfHwgTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCkgPiBwYXJzZWQuZXhwKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiB0cnVlO1xufVxuIl0sIm5hbWVzIjpbImNyeXB0byIsImFkZENvcnNIZWFkZXJzIiwicmVzcG9uc2UiLCJoZWFkZXJzIiwiSGVhZGVycyIsInNldCIsIlJlc3BvbnNlIiwiYm9keSIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJTRVRUSU5HU19DQUNIRV9UVExfTVMiLCJzZXR0aW5nc0NhY2hlIiwibm9ybWFsaXplU3RyaW5nTGlzdCIsInZhbHVlIiwiQXJyYXkiLCJpc0FycmF5IiwibWFwIiwiaXRlbSIsIlN0cmluZyIsInRyaW0iLCJmaWx0ZXIiLCJCb29sZWFuIiwidHJpbW1lZCIsInN0YXJ0c1dpdGgiLCJwYXJzZWQiLCJKU09OIiwicGFyc2UiLCJpcHY0VG9JbnQiLCJpcCIsInBhcnRzIiwic3BsaXQiLCJwYXJ0IiwiTnVtYmVyIiwibGVuZ3RoIiwic29tZSIsImlzSW50ZWdlciIsImNpZHJDb250YWluc0lQdjQiLCJjaWRyIiwibmV0U3RyIiwiYml0c1N0ciIsImJpdHMiLCJuZXQiLCJhZGRyIiwibWFzayIsImlwQWxsb3dlZEJ5Q2lkcnMiLCJjaWRycyIsImZldGNoT2ZmaWNlU2V0dGluZ3MiLCJleHBpcmVzQXQiLCJEYXRlIiwibm93IiwidXJsIiwicHJvY2VzcyIsImVudiIsIlNVUEFCQVNFX1VSTCIsImtleSIsIlNVUEFCQVNFX0FOT05fS0VZIiwiRXJyb3IiLCJmZXRjaCIsImFwaWtleSIsIkF1dGhvcml6YXRpb24iLCJjYWNoZSIsIm9rIiwiZGF0YSIsImpzb24iLCJhc25TZXR0aW5nIiwiZmluZCIsInNldHRpbmdfa2V5IiwiY2lkclNldHRpbmciLCJhbGxvd2VkQVNOcyIsIlNldCIsInNldHRpbmdfdmFsdWUiLCJyZXBsYWNlIiwiZGlnaXRzIiwiaXNGaW5pdGUiLCJhbGxvd2VkQ0lEUnMiLCJnZXRDbGllbnRJcEZyb21SZXF1ZXN0IiwicmVxIiwiY2YiLCJnZXQiLCJ4ZmYiLCJyZXF1aXJlT2ZmaWNlTmV0d29yayIsInRva2VuIiwiSVBJTkZPX1RPS0VOIiwicmVhc29uIiwiY29uc29sZSIsImxvZyIsImFzbiIsIm9mZmljZVNldHRpbmdzIiwiZXJyb3IiLCJtZXNzYWdlIiwiaGFzQ2lkclJlc3RyaWN0aW9uIiwiaGFzQXNuUmVzdHJpY3Rpb24iLCJzaXplIiwiY2lkckFsbG93ZWQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJhc25TdHIiLCJoYXMiLCJzaWduT2ZmaWNlUGFzcyIsInBheWxvYWQiLCJ0dGxTZWNvbmRzIiwic2VjcmV0IiwiT0ZGSUNFX1BBU1NfU0VDUkVUIiwiZXhwIiwiTWF0aCIsImZsb29yIiwic3RyaW5naWZ5Iiwic2lnIiwiY3JlYXRlSG1hYyIsInVwZGF0ZSIsImRpZ2VzdCIsIkJ1ZmZlciIsImZyb20iLCJ0b1N0cmluZyIsInZlcmlmeU9mZmljZVBhc3MiLCJiNjQiLCJleHBlY3RlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/networkGuard.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fattendance%2Fcheck%2Froute&page=%2Fapi%2Fattendance%2Fcheck%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fattendance%2Fcheck%2Froute.ts&appDir=%2FUsers%2Ftzl%2FDocuments%2FGitHub%2Fsynergyhr%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftzl%2FDocuments%2FGitHub%2Fsynergyhr&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();